@model IEnumerable<Game.Models.Hero>

@{
    ViewBag.Title = "Список персонажей";
    //Layout = null;
}

<h2>Index</h2>

<p>
    <link href='@Url.Content("~/Content/themes/base/jquery-ui.css")' rel="stylesheet" type="text/css" />
    @Html.ActionLink("Создать нового", "Create",new { }, new { @class = "viewDialog", data_dialog_title = "Создание Персонажа" })
</p>

<table class="table">
    <tr>
        <th>
            
            @Html.DisplayNameFor(model => model.User.Email)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Level)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.FreePoints)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Experience)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Health)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Protection)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Attack)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Evasion)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Crit)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Picture)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.User.Email)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Level)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.FreePoints)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Experience)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Health)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Protection)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Attack)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Evasion)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Crit)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Picture)
        </td>
        <td>
            @Html.ActionLink("Редактировать", "Edit", new { id=item.Id },new { @class= "viewDialog" }) |
            @Html.ActionLink("Просмотреть", "Details", new { id = item.Id }, new { @class = "viewDialog" }) |
            @Html.ActionLink("Delete", "Delete", new { id=item.Id })|

            
        </td>
    </tr>
    
}

</table>
<script src="~/Scripts/jquery-1.12.4.min.js" type="text/javascript"></script>
<script src="~/Scripts/jquery-ui-1.12.1.js" type="text/javascript"></script>
<script>
    $(document).ready(function () {

        $.ajaxSetup({ cache: false });

        $(".viewDialog").on("click", function (e) {
            e.preventDefault();

            $("<div></div>")
                .addClass("dialog")
                .appendTo("body")
                .dialog({
                    title: $(this).attr("data-dialog-title"),
                    close: function () { $(this).remove() },
                    modal: true
                })
                .load(this.href);
        });
    });
    /* window.onload = function () {
        var button = document.getElementById("bt").onclick = function () {
            
            $.ajax(
                {
                    url: "Heroes/Test",
                    type: "GET",
                    data: { "St": "3", "Lk":55},
                    success : resp
                    
                }
                );
            
        }
        function resp(responce) {

            alert(responce);
        }
    }*/
</script>